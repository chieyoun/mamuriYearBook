<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Insert title here</title>
    <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
            crossorigin="anonymous">
    <script src="https://cdn.ckeditor.com/ckeditor5/12.4.0/classic/ckeditor.js"></script>
    <style>
        .ck.ck-editor {
            width: 80%;
            max-width: 800px;
            margin: 0 auto;
        }

        .ck-editor__editable {
            height: 80vh;
        }

        form {
            text-align: center;
        }
    </style>
</head>
<body>
<form action="/post" method="post" name="frm">
    제목 : <input type="text" name="title"> <br>
    작성자 : <input type="text" name="writer"> <br>
<!--    <div id="editor" name="content"></div>-->
    <textarea id="editor"></textarea>
    <input type="button" class="btn btn-secondary mt-3 mx-2" value="작성취소" />
<!--    <input type="submit" class="btn btn-primary mt-3 mx-2" value="작성완료" />-->
    <input type="button" class="btn btn-primary mt-3 mx-2" value="내용->콘솔로그" onclick="aa();" />
</form>

<script>
    ClassicEditor
        .create(document.querySelector('#editor'), {
            ckfinder: {
                uploadUrl : '/image/upload'
            }
        })
        .then(editor => {
            theEditor = editor;
            console.log('Editor was initialized');
        })
        .catch(error => {
            console.error(error);
        });

    function aa(){

        var sHTML = theEditor.getData();
        console.log(sHTML);

        const editor = document.getElementById("editor");

        editor.value = "<div name='content'>"+sHTML+"</div>";
        console.log(editor.value);

        document.frm.submit()


    }




</script>
<script src="https://ckeditor.com/apps/ckfinder/3.5.0/ckfinder.js"></script>

</body>
</html>
